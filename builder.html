<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/tabby@12.0.0/dist/js/tabby.polyfills.min.js"></script>
    <title>Recursive Pixlpals</title>
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <style>

        @font-face {
            font-family: 'Pixelated MS Sans Serif';
            src: url('https://testingdd.s3.amazonaws.com/pixel_sans_serif/Pixel+Sans+Serif.ttf') format('truetype');
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .form-group {
            margin-bottom: 1em;
            color: rgb(255, 255, 255); /* Text color for form group */
            border: none;
        }

        .hidden {
            display: none;
            border: none;
        }

        #image-preview-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            width: 100%; /* Make the wrapper div take up the full width of its parent */
            padding-top: 20px;
        }

        #image-preview {
            width: 384px;
            height: 384px;
            background: #000000;
            position: relative;
            margin: 0;
            padding: 0;
            padding-bottom: 0px;
            border: none;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        #image-preview img {
            position: absolute;
            width: 100%;
            height: 100%;
            border: none;
            margin: 0;
            padding: 0;
        }
        body {
            position: relative;
            top: -50px;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin-top: 0;
            padding-top: 0px;
            background: #008080 ;
            font-family: 'Pixelated MS Sans Serif', sans-serif;
            color: #121212; /* Text color for body */
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }

        .window {
            z-index: 9999;
            /* rest of your styles */
        }

        .desktop-icons {
            position: absolute;
            top: 70px;
            left: 25px;
            display: grid;
            grid-template-rows: repeat(auto-fill, 60px);
            grid-gap: 20px;
            justify-content: start;
            align-items: start;
        }

        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 60px;
            text-align: center;
            cursor: pointer;
        }

        .desktop-icon img {
            width: 48px;
            height: 48px;
        }

        .desktop-icon span {
            font-size: 10px;
        }

        .desktop-icon:hover {
            background-color: #0000FF;
            color: #FFFFFF;
        }

        h1 {
            color: rgb(255, 255, 255); /* Text color for header */
            border: none;
            padding-bottom: 20px;
        }
        select {
            color: rgb(255, 255, 255); /* Text color for dropdown */
            border: none;
        }
        .category-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            color: rgb(0, 0, 0);
            border: none;
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }
        .category-option {
            width: 50px;
            height: 50px;
            cursor: pointer;
            overflow: hidden;
            border-radius: 5px;
            color: rgb(255, 255, 255);
            border: none;
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }
        .category-option img {
            width: 100%;
            height: 100%;
            background: #5e5e5e60; /* Add this line */
            border-radius: 5px;
        }
        .background-text {
            font-size: 14px;
            color: rgb(255, 255, 255);
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }

        .menu {
            position: relative;
            width: 100%; /* Adjust as needed */
            height: 25px; /* Adjust as needed */
            margin: 0 auto; /* Centers the tab bar */
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }

        .menu a {
            color: #fff; /* Color of the text in all tabs */
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }

        .menu li {
    transition: all 0.3s ease; /* Adjust the duration and easing function as needed */
}


        .menu li[aria-selected="true"] {
    background-color: #ccc; /* Change to your desired color */
    border: none; /* Change to your desired color */
    z-index: 1; /* Makes the selected tab appear in front */
}

        #compile-button {
            align-items: center;
            background-clip: padding-box;
            background-color: #2c2c2c;
            border: 1px solid transparent;
            border-radius: .25rem;
            box-shadow: rgba(0, 0, 0, 0.02) 0 1px 3px 0;
            box-sizing: border-box;
            color: #fff;
            cursor: pointer;
            display: inline-flex;
            font-family: 'Pixelated MS Sans Serif', sans-serif;
            font-size: 10px;
            font-weight: 400;
            justify-content: center;
            line-height: 1.25;
            margin: 0;
            padding: calc(.875rem - 1px) calc(1.5rem - 1px);
            width: 80px; /* Adjust to your desired width */
            height: 30px; /* Adjust to your desired height */
            position: absolute;
            top: 10px; /* Adjust to move the button up or down */
            left: 10px; /* Adjust to move the button left or right */
            text-decoration: none;
            transition: all 250ms;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            vertical-align: baseline;
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: grayscale;
        }

        #compile-button:hover,
        #compile-button:focus {
            background-color: #24b300;
            box-shadow: rgba(0, 0, 0, 0.1) 0 4px 12px;
        }

        #compile-button:hover {
            transform: translateY(-1px);
        }

        #compile-button:active {
            background-color: #24b300;
            box-shadow: rgba(0, 0, 0, .06) 0 2px 4px;
            transform: translateY(0);
        }

        .instruction-text {
            display: block;
            width: 100%;
            text-align: center;
            margin-bottom: 20px; /* Adjust as needed */
            color: #000000;
        }

        #toolbar {
            background: #c0c0c0;
    height: 2.5rem;
    position: fixed;
    bottom: 0;
    width: calc(100%);
    display: flex;
    padding: 0.5rem;
    z-index: 999999999;
    justify-content: space-between;
    box-shadow: 0 -2px #fffdfc, 0 -4px #cce9eb;
}

#start-menu {
    bottom: 3.75rem;
    position: absolute;
    background: #c0c0c0;
    left: 0.25rem;
    width: 24rem;
    min-height: 3rem;
    display: none;
}
#start-button-input:checked ~ #start-bar > #start-menu {
    display: block;
}
#start-menu ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
#start-menu ul li label {
    height: 4rem;
    float: left;
    cursor: pointer;
    padding: 0 0.5rem 0 0.5rem;
    margin: 0 2.5rem;
    display: flex;
    align-items: center;
    position: relative;
    cursor: pointer;
    box-sizing: border-box;
    width: calc(100% - 3rem);
}

#start-menu > ul > li label:before {
    width: 10px;
    background: black;
    content: '';
    height: 1px;
    position: absolute;
    bottom: 20px;
    left: 3rem;
}
#start-menu > ul > li label:first-of-type:before {
    width: 14px;
}

#start-menu > ul > li label:hover:before {
    background: white;
}
#start-menu ul li.line label {
    box-shadow: 0 2px #808280, 0 4px white;
}
.line {
    box-shadow: 0 2px #808280, 0 4px white;
}
#start-menu ul li img {
    width: 2rem;
    height: auto;
    margin: 0 1rem 0 0;
}
#start-menu ul li label:hover {
    background: #0c1b98;
    color: white;
    box-shadow: -8px 0 #0c1b98, 8px 0 #0c1b98;
}

        </style>
    </head>
<body>
    <div id="toolbar" class="toolbar">
        <div class="toolbar-start-menu">
          <button class="start-button">
            Start
          </button>
          
          <div class="start-menu-wrapper">
            <div class="start-menu-title">
            
            </div>
            
            <div class="start-menu">
            </div>
          </div>
        </div>
        <div class="toolbar-separator"></div>
     
        <div class="toolbar-right">
          <div class="time"><span class="hour"></span>4:20<span class="minutes"></span> PM</div>
        </div>
    </div>
    <div class="desktop-icons">
        <div class="desktop-icon my-computer" title="My Computer">
            <img src="https://imagizer.imageshack.com/img922/9062/jpod6a.png">
            <span>My Computer</span>
        </div>
        <div class="desktop-icon my-documents" title="My Documents">
            <img src="https://imagizer.imageshack.com/img923/8678/qkFsVh.png">
            <span>My Documents</span>
        </div>
        <div class="desktop-icon network" title="Network Neighborhood">
            <img src="https://imagizer.imageshack.com/img922/697/ubSnAD.png">
            <span>Pixlbuilder</span>
        </div>
        <div class="desktop-icon trash-empty" title="Recycle Bin">
            <img src="https://imagizer.imageshack.com/img924/1802/wSeUA2.png">
            <span>Recycle Bin</span>
        </div>
    </div>        
    <form id="punk-form">
        <div class="window" style="width: 500px;">
            <div class="title-bar">
              <div class="title-bar-text">Pixlbuilder</div>
            </div>
            <div id="image-preview-wrapper">
                <div id="image-preview">
                    <img id="background-image" src="https://imagizer.imageshack.com/img923/8831/qboiiP.png">
                    <img id="style-image">
                    <img id="body-image">
                    <img id="head-image">
                    <img id="eyes-image">
                    <button id="compile-button">Compile</button>
                </div>
            <div class="window-body">
                <div id="initial-text">
                    <p><br>Welcome to the pixlbuilder.<br><br><br>Below you can select different traits and build a Pixlpal that best represents you. This is just a fun experiment and requires you to inscribe the SVG file however the inscriptions are just a few dollars.<br><br><br><br></p>
                </div>
                <menu class="menu" role="tablist" data-tabs>
                    <li role="tab" aria-selected="true"><a href="#backgrounds">Background</a></li>
                    <li role="tab"><a href="#styles">Type</a></li>
                    <li role="tab"><a href="#body">Clothing</a></li>
                    <li role="tab"><a href="#head">Head</a></li>
                    <li role="tab"><a href="#eyes">Eyes</a></li>
                </menu>                
                <div class="window" role="tabpanel">
                    <div class="window-body">
              <!-- Your tab content goes here -->
              <div class="tab-content">
                  <div id="backgrounds">
                      <div class="form-group">
                          <div class="category-grid" id="backgrounds-grid"></div>
                      </div>                
                  </div>
                  <div id="styles">
                      <div class="form-group">
                          <div class="category-grid" id="styles-grid"></div>
                      </div>
                  </div>
                  <div id="body">
                      <div class="form-group">
                          <div class="category-grid" id="body-grid"></div>
                      </div>
                  </div>
                  <div id="head">
                      <div class="form-group">
                          <div class="category-grid" id="head-grid"></div>
                      </div>
                  </div>
                  <div id="eyes">
                      <div class="form-group">
                          <div class="category-grid" id="eyes-grid"></div>
                      </div>                                  
                  </div>          
              </div>
            </div>
          </div>          
    </form>
</form>
    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/tabby@12.0.0/dist/js/tabby.polyfills.min.js"></script>
    <script>
        function updateTime() {
            var now = new Date();
            var hours = now.getHours();
            var minutes = now.getMinutes();
            if (minutes < 10) {
            minutes = '0' + minutes;
        }
            document.querySelector('.taskbar-time').textContent = hours + ':' + minutes;
    }

setInterval(updateTime, 1000);

        var backgrounds = [
            { name: 'None', image: 'https://imagizer.imageshack.com/img923/8831/qboiiP.png' },
            { name: 'Orange', image: 'https://imagizer.imageshack.com/img923/3342/Ef1fo2.png' },
            { name: 'Blue', image: 'https://imagizer.imageshack.com/img924/6237/cFZTzY.png' }
        ];

        function updateBackgrounds() {
    var backgroundsDiv = document.getElementById('backgrounds-grid');
    backgroundsDiv.innerHTML = '';

    if (!document.getElementById('backgrounds-text')) {
        var textDiv = document.createElement('div');
        textDiv.style.textAlign = 'center';
        var textElement = document.createElement('p');
        textElement.textContent = "Choose a background...";
        textElement.className = 'instruction-text';
        textElement.id = 'backgrounds-text';
        textDiv.appendChild(textElement);

        backgroundsDiv.parentNode.insertBefore(textDiv, backgroundsDiv);
    }

    for (var i = 0; i < backgrounds.length; i++) {
        var div = document.createElement('div');
        div.className = 'category-option';

        var img = document.createElement('img');
        img.src = backgrounds[i].image;

        img.addEventListener('click', function() {
            var compilerImage = document.getElementById('background-image');
            compilerImage.src = this.src;
        });

        div.appendChild(img);
        backgroundsDiv.appendChild(div);
    }
}
    
        var styles = [
    { name: 'Ape', image: 'https://imagizer.imageshack.com/img922/8204/Ajz91a.png' },
    { name: 'Ape', image: 'https://imagizer.imageshack.com/img923/2849/7LxZHB.png' },
    { name: 'Ape', image: 'https://imagizer.imageshack.com/img924/5544/bkJ6V3.png' },
    { name: 'Ape', image: 'https://imagizer.imageshack.com/img923/1212/mA37no.png' },
    { name: 'Ape', image: 'https://imagizer.imageshack.com/img924/8415/fFmy0H.png' },
    { name: 'Ape', image: 'https://imagizer.imageshack.com/img922/4281/3ZLeSa.png' },
    { name: 'Zombie', image: 'https://imagizer.imageshack.com/img923/1760/pb6Mf0.png' }
];

function updateStyles() {
    var stylesDiv = document.getElementById('styles-grid');
    stylesDiv.innerHTML = '';

    if (!document.getElementById('styles-text')) {
        var textDiv = document.createElement('div');
        textDiv.style.textAlign = 'center';
        var textElement = document.createElement('p');
        textElement.textContent = "Select your body type...";
        textElement.className = 'instruction-text';
        textElement.id = 'styles-text';
        textDiv.appendChild(textElement);

        stylesDiv.parentNode.insertBefore(textDiv, stylesDiv);
    }

    for (var i = 0; i < styles.length; i++) {
        var div = document.createElement('div');
        div.className = 'category-option';

        var img = document.createElement('img');
        img.src = styles[i].image;

        img.addEventListener('click', function() {
            var compilerImage = document.getElementById('style-image');
            compilerImage.src = this.src;
        });

        div.appendChild(img);
        stylesDiv.appendChild(div);
    }
}

var body = [
    { name: '1', image: 'https://imagizer.imageshack.com/img923/8995/SieDSD.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img922/9277/YGZz1F.png' },
    { name: '3', image: 'https://imagizer.imageshack.com/img922/4393/nsKNPZ.png' },
    { name: '4', image: 'https://imagizer.imageshack.com/img924/3497/vj8KzB.png' },
    { name: '5', image: 'https://imagizer.imageshack.com/img923/3251/f8nDYN.png' }
];

function updateBody() {
    var bodyDiv = document.getElementById('body-grid');
    bodyDiv.innerHTML = '';

    if (!document.getElementById('body-text')) {
        var textDiv = document.createElement('div');
        textDiv.style.textAlign = 'center';
        var textElement = document.createElement('p');
        textElement.textContent = "Pick some apparel...";
        textElement.className = 'instruction-text';
        textElement.id = 'body-text';
        textDiv.appendChild(textElement);

        bodyDiv.parentNode.insertBefore(textDiv, bodyDiv);
    }

    for (var i = 0; i < body.length; i++) {
        var div = document.createElement('div');
        div.className = 'category-option';

        var img = document.createElement('img');
        img.src = body[i].image;

        img.addEventListener('click', function() {
            var compilerImage = document.getElementById('body-image');
            compilerImage.src = this.src;
        });

        div.appendChild(img);
        bodyDiv.appendChild(div);
    }
}

var head = [
    { name: '1', image: 'https://imagizer.imageshack.com/img922/1029/zk8LLV.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img924/2660/NZm0kX.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img923/3924/r4j9c3.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img922/4083/FNsNyH.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img923/4224/HQKpIG.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img922/5818/eaXh69.png' },
    { name: '3', image: 'https://imagizer.imageshack.com/img922/2888/k027Y3.png' }
];

function updateHead() {
    var headDiv = document.getElementById('head-grid');
    headDiv.innerHTML = '';

    if (!document.getElementById('head-text')) {
        var textDiv = document.createElement('div');
        textDiv.style.textAlign = 'center';
        var textElement = document.createElement('p');
        textElement.textContent = "Select some headwear...";
        textElement.className = 'instruction-text';
        textElement.id = 'head-text';
        textDiv.appendChild(textElement);

        headDiv.parentNode.insertBefore(textDiv, headDiv);
    }

    for (var i = 0; i < head.length; i++) {
        var div = document.createElement('div');
        div.className = 'category-option';

        var img = document.createElement('img');
        img.src = head[i].image;

        img.addEventListener('click', function() {
            var compilerImage = document.getElementById('head-image');
            compilerImage.src = this.src;
        });

        div.appendChild(img);
        headDiv.appendChild(div);
    }
}

var eyes = [
    { name: '1', image: 'https://imagizer.imageshack.com/img923/5646/KP0BMg.png' },
    { name: '2', image: 'https://imagizer.imageshack.com/img923/2424/zKRU7o.png' },
    { name: '3', image: 'https://imagizer.imageshack.com/img922/2806/DRYdmQ.png' },
    { name: '4', image: 'https://imagizer.imageshack.com/img924/8213/84jZRc.png' },
    { name: '5', image: 'https://imagizer.imageshack.com/img923/6562/3e3IrY.png' },
    { name: '6', image: 'https://imagizer.imageshack.com/img924/102/XqT38a.png' }
];

function updateEyes() {
    var eyesDiv = document.getElementById('eyes-grid');
    eyesDiv.innerHTML = '';

    if (!document.getElementById('eyes-text')) {
        var textDiv = document.createElement('div');
        textDiv.style.textAlign = 'center';
        var textElement = document.createElement('p');
        textElement.textContent = "Add some eyewear...";
        textElement.className = 'instruction-text';
        textElement.id = 'eyes-text';
        textDiv.appendChild(textElement);

        eyesDiv.parentNode.insertBefore(textDiv, eyesDiv);
    }

    for (var i = 0; i < eyes.length; i++) {
        var div = document.createElement('div');
        div.className = 'category-option';

        var img = document.createElement('img');
        img.src = eyes[i].image;

        // Add event listener to the image
        img.addEventListener('click', function() {
            // Get the compiler image element
            var compilerImage = document.getElementById('eyes-image');

            // Set the source of the compiler image to the source of the clicked image
            compilerImage.src = this.src;
        });

        div.appendChild(img);
        eyesDiv.appendChild(div);
    }
}



function compileSVG() {
    // Get the selected traits
    var backgroundImage = document.getElementById('background-image').src.split('/').pop();
    var styleImage = document.getElementById('style-image').src.split('/').pop();
    var bodyImage = document.getElementById('body-image').src.split('/').pop();
    var headImage = document.getElementById('head-image').src.split('/').pop();
    var eyesImage = document.getElementById('eyes-image').src.split('/').pop();

    // Create the SVG string
    var svgString = '<svg width="24px" height="24px" xmlns="http://www.w3.org/2000/svg">\n';
    svgString += '<image href="' + backgroundImage + '" />\n';
    svgString += '<image href="' + styleImage + '" />\n';
    svgString += '<image href="' + bodyImage + '" />\n';
    svgString += '<image href="' + headImage + '" />\n';
    svgString += '<image href="' + eyesImage + '" />\n';
    svgString += '</svg>';

    // Download the SVG string as a file
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(svgString));
    element.setAttribute('download', 'output.svg');

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
}

// Add event listener to the compile button
document.getElementById('compile-button').addEventListener('click', compileSVG);

    
window.addEventListener('DOMContentLoaded', function() {
    updateBackgrounds();
    updateStyles();
    updateBody();
    updateHead();

    // Hide all tab content
    var tabContents = document.querySelectorAll('.tab-content > div');
    tabContents.forEach(function(tabContent) {
        tabContent.style.display = 'none';
    });

    // Show content for the first tab
    document.querySelector('.tab-content > div').style.display = 'block';

    // Remove focus from all tabs
    var tabLinks = document.querySelectorAll('.menu a');
    tabLinks.forEach(function(tabLink) {
        tabLink.blur();
    });
});
    
var tabs = new Tabby('[data-tabs]');

// Add event listener for tab switching
var tabLinks = document.querySelectorAll('.menu a');
tabLinks.forEach(function(tabLink) {
    tabLink.addEventListener('click', function(event) {
        // Prevent the default action
        event.preventDefault();

        // Remove active class from all tabs
        tabLinks.forEach(function(tabLink) {
            tabLink.classList.remove('active');
        });

        // Add active class to clicked tab
        this.classList.add('active');

        // Hide all tab content
        var tabContents = document.querySelectorAll('.tab-content > div');
        tabContents.forEach(function(tabContent) {
            tabContent.style.display = 'none';
        });

        // Show content for clicked tab
        var tabContent = document.querySelector(this.getAttribute('href'));
        tabContent.style.display = 'block';

        // If the "Backgrounds" tab is clicked, update the backgrounds
        if (this.getAttribute('href') === '#backgrounds') {
            updateBackgrounds();
        }

        // If the "Styles" tab is clicked, update the styles
        if (this.getAttribute('href') === '#styles') {
            updateStyles();
        }

        // If the "Body" tab is clicked, update the body images
        if (this.getAttribute('href') === '#body') {
            updateBody();
        }

        // If the "Head" tab is clicked, update the head images
        if (this.getAttribute('href') === '#head') {
            updateHead();
        }

        // If the "Eyes" tab is clicked, update the eyes images
        if (this.getAttribute('href') === '#eyes') {
            updateEyes();
        }
    });
});
    </script>    
</body>
</html>
